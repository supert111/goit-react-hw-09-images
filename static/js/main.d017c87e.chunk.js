(this["webpackJsonpgoit-react-hw-09-image"]=this["webpackJsonpgoit-react-hw-09-image"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1qsym",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1F6_q"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1Nzq2",Modal:"Modal_Modal__1e6s0"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2zmZp"}},26:function(e,t,a){e.exports={loader_circle:"Loader_loader_circle__1cQ2I"}},27:function(e,t,a){e.exports={Button:"Button_Button__E2Rnr"}},29:function(e,t,a){e.exports={App:"App_App__2TORI"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__c35Cz",SearchForm:"Searchbar_SearchForm__1GJ1L",SearchForm_button:"Searchbar_SearchForm_button__1bRru",SearchForm_button_label:"Searchbar_SearchForm_button_label__1TEUd",SearchForm_input:"Searchbar_SearchForm_input__2il8D"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),o=a.n(c),i=a(15),s=a(8),l=a(9),u=a(11),h=a(10),m=a(30),d=a(4),b=a.n(d),g=a(0);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(g.jsx)("header",{className:b.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),o("")},className:b.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:b.a.SearchForm_button,children:Object(g.jsx)("span",{className:b.a.SearchForm_button_label,children:"Search"})}),Object(g.jsx)("input",{className:b.a.SearchForm_input,type:"text",value:c,onChange:function(e){o(e.currentTarget.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var _=a(24),f=a.n(_),p=function(e){var t=e.children;return Object(g.jsx)("div",{className:"second-component",children:Object(g.jsx)("ul",{className:f.a.ImageGallery,children:t})})},O=a(13),y=a.n(O),v=function(e){var t=e.hits,a=e.onClick;return console.log(t),Object(g.jsx)(g.Fragment,{children:t.map((function(e){var t=e.id,n=e.webformatURL;return Object(g.jsx)("li",{onClick:function(){return a(t)},className:y.a.ImageGalleryItem,children:Object(g.jsx)("img",{id:t,src:n,alt:"",className:y.a.ImageGalleryItem_image})},t)}))})},S=(a(36),a(25)),x=a.n(S),I=a(26),w=a.n(I),F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)(x.a,{className:w.a.loader_circle,type:"ThreeDots",color:"#00BFFF",height:80,width:80})}}]),a}(n.Component),C=a(27),k=a.n(C),N=function(e){var t=e.children,a=e.onClick;return Object(g.jsxs)("button",{type:"button",className:k.a.Button,onClick:a,children:["Load more ",t]})},L=a(14),G=a.n(L),M=document.querySelector("#modal-root");function B(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&a()};return Object(c.createPortal)(Object(g.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(g.jsx)("div",{className:G.a.Modal,children:t})}),M)}var E=a(28),Q=a.n(E),R="".concat("https://pixabay.com/api/","?key=").concat("20667930-64a6ab52d11330f7fc72003b0"),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Q.a.get("".concat(R,"&q=").concat(e,"&image_type=photo&per_page=").concat(a,"&page=").concat(t)).then((function(e){return e.data.hits}))},U=a(29),q=a.n(U),P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hits:[],currentPage:1,seachQuery:"",isLoading:!1,error:null,showModal:!1,bigImageURL:""},e.fetchImages=function(){var t=e.state,a=t.seachQuery,n=t.currentPage;e.setState({isLoading:!0}),T(a,n).then((function(t){e.setState((function(e){return{hits:[].concat(Object(i.a)(e.hits),Object(i.a)(t)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e.onChangeQuery=function(t){e.setState({seachQuery:t,currentPage:1,hits:[],error:null})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.searchBigImg=function(t){var a=e.state.hits.find((function(e){return e.id===t})).largeImageURL;e.setState({bigImageURL:a}),e.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.seachQuery!==this.state.seachQuery&&this.fetchImages()}},{key:"render",value:function(){var e=this.state,t=e.hits,a=e.isLoading,n=e.error,r=e.showModal,c=e.bigImageURL,o=t.length>0&&!a;return Object(g.jsxs)("div",{className:q.a.App,children:[Object(g.jsx)(j,{onSubmit:this.onChangeQuery}),n&&Object(g.jsx)("h1",{children:"Try entering another request"}),Object(g.jsx)(p,{children:Object(g.jsx)(v,{hits:t,onClick:this.searchBigImg})}),a&&Object(g.jsx)(F,{}),o&&Object(g.jsx)(N,{onClick:this.fetchImages}),r&&Object(g.jsxs)(B,{onClose:this.toggleModal,children:[" ",Object(g.jsx)("img",{src:c,alt:""})," "]})]})}}]),a}(n.Component);a(75);o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.d017c87e.chunk.js.map